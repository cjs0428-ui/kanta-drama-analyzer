<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KANTA ìˆë“œë¼ë§ˆ ë¶„ì„ê¸°</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, sans-serif; background: linear-gradient(135deg, #f5f3ff 0%, #fce7f3 100%); min-height: 100vh; padding: 20px; }
    .container { max-width: 800px; margin: 0 auto; }
    .card { background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 30px; margin-bottom: 20px; }
    h1 { font-size: 2.5rem; text-align: center; margin-bottom: 10px; }
    p { text-align: center; color: #666; margin-bottom: 30px; }
    label { display: block; font-weight: 600; margin-bottom: 8px; }
    input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 20px; font-size: 16px; }
    button { width: 100%; padding: 15px; background: #9333ea; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; }
    button:hover { background: #7e22ce; }
    button:disabled { background: #ccc; cursor: not-allowed; }
    .file-zone { border: 2px dashed #ddd; border-radius: 8px; padding: 60px 20px; text-align: center; cursor: pointer; transition: all 0.3s; }
    .file-zone:hover { border-color: #9333ea; background: #faf5ff; }
    .file-zone .icon { font-size: 4rem; margin-bottom: 20px; }
    .hidden { display: none; }
    .progress { text-align: center; padding: 40px; }
    .progress .spinner { font-size: 4rem; animation: spin 2s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .result { background: #f0fdf4; border: 1px solid #86efac; border-radius: 8px; padding: 20px; margin-top: 20px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¬ KANTA ìˆë“œë¼ë§ˆ ë¶„ì„ê¸°</h1>
    <p>ì¼ë³¸ ë“œë¼ë§ˆ ëŒ€ì‚¬ë¥¼ ìë™ìœ¼ë¡œ ë²ˆì—­í•˜ê³  ë¶„ì„í•´ì„œ ê´‘ê³  ë¬¸êµ¬ë¥¼ ë§Œë“¤ì–´ë“œë¦½ë‹ˆë‹¤</p>

    <!-- Step 0: API í‚¤ ì…ë ¥ -->
    <div id="step0" class="card">
      <h2>ğŸ”‘ API í‚¤ ì„¤ì •</h2>
      <div style="background: #eff6ff; border: 1px solid #93c5fd; border-radius: 8px; padding: 15px; margin: 20px 0;">
        <p style="font-size: 14px; color: #1e40af; text-align: left; margin: 0;">
          ì„œë¹„ìŠ¤ ì´ìš©ì„ ìœ„í•´ API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤
        </p>
      </div>
      
      <label>AssemblyAI API Key</label>
      <input type="password" id="assemblyKey" placeholder="AssemblyAI API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
      
      <label>OpenAI API Key</label>
      <input type="password" id="openaiKey" placeholder="OpenAI API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
      
      <button onclick="saveKeys()">API í‚¤ ì €ì¥í•˜ê³  ì‹œì‘í•˜ê¸°</button>
    </div>

    <!-- Step 1: ì˜ìƒ ì—…ë¡œë“œ -->
    <div id="step1" class="card hidden">
      <h2>ğŸ“¹ ì˜ìƒ ì—…ë¡œë“œ</h2>
      
      <div class="file-zone" onclick="document.getElementById('videoInput').click()">
        <div class="icon">ğŸ“</div>
        <p id="fileName" style="font-size: 18px; font-weight: 600;">í´ë¦­í•´ì„œ ì˜ìƒ ì„ íƒ</p>
        <p id="fileSize" style="font-size: 14px; color: #666;"></p>
      </div>
      <input type="file" id="videoInput" accept="video/*" class="hidden" onchange="selectFile(this)">
      
      <button id="uploadBtn" class="hidden" onclick="uploadVideo()">ì—…ë¡œë“œ ì‹œì‘</button>
    </div>

    <!-- Step 2: ì§„í–‰ ì¤‘ -->
    <div id="step2" class="card hidden">
      <div class="progress">
        <div class="spinner">â³</div>
        <h2 id="statusText">ì²˜ë¦¬ ì¤‘...</h2>
        <p id="statusDetail"></p>
      </div>
    </div>

    <!-- Step 3: ê²°ê³¼ -->
    <div id="step3" class="card hidden">
      <h2>âœ… ì™„ë£Œ!</h2>
      <div id="result" class="result"></div>
    </div>
  </div>

  <script>
    console.log('ğŸŸ¢ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ');
    
    let apiKeys = { assemblyAI: '', openAI: '' };
    let selectedFile = null;

    function saveKeys() {
      const assemblyKey = document.getElementById('assemblyKey').value.trim();
      const openaiKey = document.getElementById('openaiKey').value.trim();
      
      if (!assemblyKey || !openaiKey) {
        alert('ë‘ ê°œì˜ API í‚¤ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      apiKeys.assemblyAI = assemblyKey;
      apiKeys.openAI = openaiKey;
      
      console.log('âœ… API í‚¤ ì €ì¥ë¨');
      
      document.getElementById('step0').classList.add('hidden');
      document.getElementById('step1').classList.remove('hidden');
    }

    function selectFile(input) {
      const file = input.files[0];
      if (!file) return;
      
      if (!file.type.startsWith('video/')) {
        alert('ë¹„ë””ì˜¤ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
        return;
      }
      
      if (file.size > 500 * 1024 * 1024) {
        alert('íŒŒì¼ì´ ë„ˆë¬´ í½ë‹ˆë‹¤. 500MB ì´í•˜ì˜ ì˜ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        return;
      }
      
      selectedFile = file;
      console.log('ğŸ“ íŒŒì¼ ì„ íƒë¨:', file.name, file.size);
      
      document.getElementById('fileName').textContent = 'âœ… ' + file.name;
      document.getElementById('fileSize').textContent = 'í¬ê¸°: ' + (file.size / 1024 / 1024).toFixed(2) + 'MB';
      document.getElementById('uploadBtn').classList.remove('hidden');
    }

    async function uploadVideo() {
      if (!selectedFile) {
        alert('íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        return;
      }
      
      console.log('ğŸ“¤ ì—…ë¡œë“œ ì‹œì‘:', selectedFile.name);
      
      document.getElementById('step1').classList.add('hidden');
      document.getElementById('step2').classList.remove('hidden');
      document.getElementById('statusText').textContent = 'ì˜ìƒ ì—…ë¡œë“œ ì¤‘...';
      document.getElementById('statusDetail').textContent = selectedFile.name;
      
      try {
        // ArrayBufferë¡œ ë³€í™˜
        console.log('ğŸ”„ ArrayBuffer ë³€í™˜ ì¤‘...');
        const arrayBuffer = await selectedFile.arrayBuffer();
        console.log('âœ… ArrayBuffer ìƒì„± ì™„ë£Œ:', arrayBuffer.byteLength, 'bytes');
        
        // AssemblyAIì— ì—…ë¡œë“œ
        console.log('ğŸš€ AssemblyAIë¡œ ì—…ë¡œë“œ ì¤‘...');
        document.getElementById('statusText').textContent = 'AssemblyAIì— ì—…ë¡œë“œ ì¤‘...';
        
        const uploadResponse = await fetch('https://api.assemblyai.com/v2/upload', {
          method: 'POST',
          headers: {
            'authorization': apiKeys.assemblyAI
          },
          body: arrayBuffer
        });
        
        console.log('ğŸ“Š ì—…ë¡œë“œ ì‘ë‹µ:', uploadResponse.status, uploadResponse.statusText);
        
        if (!uploadResponse.ok) {
          const errorText = await uploadResponse.text();
          throw new Error('ì—…ë¡œë“œ ì‹¤íŒ¨ (' + uploadResponse.status + '): ' + errorText);
        }
        
        const uploadData = await uploadResponse.json();
        console.log('âœ… ì—…ë¡œë“œ ì„±ê³µ!', uploadData);
        
        document.getElementById('step2').classList.add('hidden');
        document.getElementById('step3').classList.remove('hidden');
        document.getElementById('result').textContent = 'ì—…ë¡œë“œ URL: ' + uploadData.upload_url;
        
      } catch (error) {
        console.error('âŒ ì—ëŸ¬:', error);
        document.getElementById('statusText').textContent = 'ì—…ë¡œë“œ ì‹¤íŒ¨';
        document.getElementById('statusDetail').textContent = error.message;
        alert('ì—…ë¡œë“œ ì‹¤íŒ¨: ' + error.message);
      }
    }
    
    console.log('ğŸŸ¢ ëª¨ë“  í•¨ìˆ˜ ì •ì˜ ì™„ë£Œ');
  </script>
</body>
</html>
```

---

## âœ… ì´ ë²„ì „ì˜ íŠ¹ì§•

1. **React ì—†ìŒ** - ìˆœìˆ˜ JavaScript
2. **Babel ì—†ìŒ** - ë³€í™˜ í•„ìš” ì—†ìŒ
3. **JSX ì—†ìŒ** - ë¸Œë¼ìš°ì €ê°€ ë°”ë¡œ ì‹¤í–‰
4. **Tailwind ì—†ìŒ** - ì¸ë¼ì¸ CSS
5. **ì´ˆê°„ë‹¨ 3ë‹¨ê³„** - í‚¤ ì…ë ¥ â†’ ì—…ë¡œë“œ â†’ ê²°ê³¼

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ ë°©ë²•

1. **ìœ„ ì½”ë“œë¡œ `public/index.html` ì™„ì „íˆ êµì²´**
2. **ì»¤ë°‹ & ì¬ë°°í¬**
3. **ì‹œí¬ë¦¿ ëª¨ë“œì—ì„œ ì ‘ì†**
4. **F12 â†’ Console ì—´ê¸°**
5. **ì½˜ì†”ì— ì´ë ‡ê²Œ ë‚˜ì™€ì•¼ í•¨:**
```
   ğŸŸ¢ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ
   ğŸŸ¢ ëª¨ë“  í•¨ìˆ˜ ì •ì˜ ì™„ë£Œ
```
6. **API í‚¤ ì…ë ¥ â†’ ì˜ìƒ ì„ íƒ â†’ ì—…ë¡œë“œ ì‹œì‘**
7. **ì½˜ì†” ë¡œê·¸ í™•ì¸:**
```
   ğŸ“¤ ì—…ë¡œë“œ ì‹œì‘: video.mp4
   ğŸ”„ ArrayBuffer ë³€í™˜ ì¤‘...
   âœ… ArrayBuffer ìƒì„± ì™„ë£Œ: 12345678 bytes
   ğŸš€ AssemblyAIë¡œ ì—…ë¡œë“œ ì¤‘...
   ğŸ“Š ì—…ë¡œë“œ ì‘ë‹µ: 200 OK
   âœ… ì—…ë¡œë“œ ì„±ê³µ!
